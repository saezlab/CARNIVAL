<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>runCARNIVAL — runCARNIVAL • CARNIVAL</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="runCARNIVAL — runCARNIVAL"><meta property="og:description" content="runCARNIVAL"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CARNIVAL</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/CARNIVAL.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/saezlab/CARNIVAL/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1><code>runCARNIVAL</code></h1>
    <small class="dont-index">Source: <a href="https://github.com/saezlab/CARNIVAL/blob/HEAD/R/api_run_carnival.R" class="external-link"><code>R/api_run_carnival.R</code></a></small>
    <div class="hidden name"><code>runCARNIVAL.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>runCARNIVAL</code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">runCARNIVAL</span><span class="op">(</span></span>
<span>  inputObj <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  measObj <span class="op">=</span> <span class="va">measObj</span>,</span>
<span>  netObj <span class="op">=</span> <span class="va">netObj</span>,</span>
<span>  weightObj <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  solverPath <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  solver <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lpSolve"</span>, <span class="st">"cplex"</span>, <span class="st">"cbc"</span>, <span class="st">"gurobi"</span><span class="op">)</span>,</span>
<span>  timelimit <span class="op">=</span> <span class="fl">3600</span>,</span>
<span>  mipGAP <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  poolrelGAP <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  limitPop <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  poolCap <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  poolIntensity <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  poolReplace <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  alphaWeight <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  betaWeight <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  threads <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  cleanTmpFiles <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keepLPFiles <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  clonelog <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  dir_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>inputObj</dt>
<dd><p>Data frame of the list for target of perturbation - optional
or default set to NULL to run invCARNIVAL when inputs are not known.</p></dd>


<dt>measObj</dt>
<dd><p>Data frame of the measurement file (i.e. DoRothEA normalised
enrichment scores) - always required.</p></dd>


<dt>netObj</dt>
<dd><p>Data frame of the prior knowledge network - always required.</p></dd>


<dt>weightObj</dt>
<dd><p>Data frame of the additional weight (i.e. PROGENy pathway
score or measured protein activities) - optional or default set as NULL to run
CARNIVAL without weights.</p></dd>


<dt>solverPath</dt>
<dd><p>Path to executable cbc/cplex file - default set to NULL, in
which case the solver from lpSolve package is used.</p></dd>


<dt>solver</dt>
<dd><p>Solver to use: lpSolve/cplex/cbc (Default set to lpSolve).</p></dd>


<dt>timelimit</dt>
<dd><p>CPLEX/Cbc parameter: Time limit of CPLEX optimisation in
seconds (default set to 3600).</p></dd>


<dt>mipGAP</dt>
<dd><p>CPLEX parameter: the absolute tolerance on the gap between the
best integer objective and the objective of the best node remaining. When this
difference falls below the value of this parameter, the linear integer
optimization is stopped (default set to 0.05)</p></dd>


<dt>poolrelGAP</dt>
<dd><p>CPLEX/Cbc parameter: Allowed relative gap of accepted
solution comparing within the pool of accepted solution (default: 0.0001)</p></dd>


<dt>limitPop</dt>
<dd><p>CPLEX parameter: Allowed number of solutions to be generated
(default: 500)</p></dd>


<dt>poolCap</dt>
<dd><p>CPLEX parameter: Allowed number of solution to be kept in the
pool of solution (default: 100)</p></dd>


<dt>poolIntensity</dt>
<dd><p>CPLEX parameter: Intensity of solution searching
(0,1,2,3,4 - default: 4)</p></dd>


<dt>poolReplace</dt>
<dd><p>CPLEX parameter: Replacement strategy of solutions in the
pool (0,1,2 - default: 2 = most diversified solutions)</p></dd>


<dt>alphaWeight</dt>
<dd><p>Objective function: weight for mismatch penalty (default:
1 - will only be applied once measurement file only contains discrete values)</p></dd>


<dt>betaWeight</dt>
<dd><p>Objective function: weight for node penalty (default: 0.2)</p></dd>


<dt>threads</dt>
<dd><p>CPLEX/CBC parameter: Number of threads to use
default: 0 for maximum number possible threads on system</p></dd>


<dt>cleanTmpFiles</dt>
<dd><p>logic (default-TRUE), specifying if the tmp files made by
solvers should be cleaned after run.</p></dd>


<dt>keepLPFiles</dt>
<dd><p>logic (default=TRUE), specifying if the LP file should be
kept.</p></dd>


<dt>clonelog</dt>
<dd><p>determines if CPLEX clones the log files in case of 
multi-threaded optimization, default: -1, (no cloning)</p></dd>


<dt>dir_name</dt>
<dd><p>Specify directory name to store results. by default set to
NULL</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function will return a list of results containing:</p>


<p>1. weightedSIF: A table with 4 columns containing the combined network
solutions from CARNIVAL. It contains the Source of the interaction (Node1),
Sign of the interaction (Sign), the Target of the interaction (Node2) and the
weight of the interaction (Weight) which shows how often an interaction
appears across all solutions.</p>


<p>2. nodesAttributes: A table with 6 columns containing information about
infered protein activity states and attributes. It contains the Protein IDs
(Node); how often this node has taken an activity of 0, 1 and -1 across the
solutions (ZeroAct, UpAct, DownAct); the average activities across solutions
(AvgAct); and the node attribute (measured, target, inferred).</p>


<p>3. sifAll: A list of separate network solutions.</p>


<p>4. attributesAll: A list of separate inferred node activities in each
solution.</p>


<p>5. diagnostics: reports the convergence of optimization and reason of
the termination. Only for CPLEX solver.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Run CARNIVAL pipeline using to the user-provided list of inputs or
run CARNIVAL built-in examples. The function is from v1.2 of CARNIVAL
and is left for backward compatibility.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Enio Gjerga, 2020 <a href="mailto:carnival.developers@gmail.com">carnival.developers@gmail.com</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"toy_perturbations_ex1.RData"</span>,</span></span>
<span class="r-in"><span>                       package<span class="op">=</span><span class="st">"CARNIVAL"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"toy_measurements_ex1.RData"</span>,</span></span>
<span class="r-in"><span>                       package<span class="op">=</span><span class="st">"CARNIVAL"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"toy_network_ex1.RData"</span>,</span></span>
<span class="r-in"><span>                       package<span class="op">=</span><span class="st">"CARNIVAL"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## lpSolve</span></span></span>
<span class="r-in"><span><span class="co">#res1 = runCARNIVAL(inputObj = toy_perturbations_ex1,</span></span></span>
<span class="r-in"><span><span class="co">#                    measObj = toy_measurements_ex1,</span></span></span>
<span class="r-in"><span><span class="co">#                    netObj = toy_network_ex1,</span></span></span>
<span class="r-in"><span><span class="co">#                    solver = 'lpSolve')</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#res1$weightedSIF ##see @return</span></span></span>
<span class="r-in"><span><span class="co">#res1$nodesAttributes ## see @return</span></span></span>
<span class="r-in"><span><span class="co">#res1$sifAll ## see @return</span></span></span>
<span class="r-in"><span><span class="co">#res1$attributesAll ## see @return</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Examples for cbc and cplex are commented out because these solvers are not part of R environment</span></span></span>
<span class="r-in"><span><span class="co">## and need to be installed separately</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="co">## cbc</span></span></span>
<span class="r-in"><span><span class="co">## res2 = runCARNIVAL(inputObj = toy_perturbations_ex1,</span></span></span>
<span class="r-in"><span><span class="co">##                    measObj = toy_measurements_ex1,</span></span></span>
<span class="r-in"><span><span class="co">##                    netObj = toy_network_ex1,</span></span></span>
<span class="r-in"><span><span class="co">##                    solver = 'cbc')</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="co">## res2$weightedSIF ##see @return</span></span></span>
<span class="r-in"><span><span class="co">## res2$nodesAttributes ## see @return</span></span></span>
<span class="r-in"><span><span class="co">## res2$sifAll ## see @return</span></span></span>
<span class="r-in"><span><span class="co">## res2$attributesAll ## see @return</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="co">## cplex</span></span></span>
<span class="r-in"><span><span class="co">## res3 = runCARNIVAL(inputObj = toy_perturbations_ex1,</span></span></span>
<span class="r-in"><span><span class="co">##                    measObj = toy_measurements_ex1,</span></span></span>
<span class="r-in"><span><span class="co">##                    netObj = toy_network_ex1,</span></span></span>
<span class="r-in"><span><span class="co">##                    solver = 'cplex')</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="co">## res3$weightedSIF ##see @return</span></span></span>
<span class="r-in"><span><span class="co">## res3$nodesAttributes ## see @return</span></span></span>
<span class="r-in"><span><span class="co">## res3$sifAll ## see @return</span></span></span>
<span class="r-in"><span><span class="co">## res3$attributesAll ## see @return</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Enio Gjerga, Panuwat Trairatphisan, Attila Gabor, Olga Ivanova.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

